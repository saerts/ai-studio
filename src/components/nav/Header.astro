---
import MainNav from './MainNav.astro';
import Button from '../ui/Button.astro';
---

<header
  class="sticky top-0 z-50 backdrop-blur-strong border-b border-primary-400/20"
>
  <!-- Advanced Background with Geometric Elements -->
  <div class="absolute inset-0 bg-dark-900/80"></div>

  <!-- Animated Grid Background -->
  <div class="absolute inset-0 opacity-30">
    <div
      class="absolute inset-0"
      style="background-image: radial-gradient(circle at 1px 1px, rgba(45, 212, 191, 0.15) 1px, transparent 0); background-size: 40px 40px;"
    >
    </div>
  </div>

  <!-- Geometric Accent Lines -->
  <div class="absolute inset-0 overflow-hidden">
    <!-- Top accent line -->
    <div
      class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary-400/50 to-transparent"
    >
    </div>
    <!-- Floating geometric elements -->
    <div
      class="absolute top-2 right-20 w-2 h-2 bg-primary-400/40 rotate-45 animate-pulse"
    >
    </div>
    <div
      class="absolute top-4 right-32 w-1 h-8 bg-gradient-to-b from-primary-400/30 to-transparent"
    >
    </div>
    <div class="absolute top-1 left-1/3 w-3 h-px bg-cyan-400/50"></div>
  </div>

  <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-20 items-center justify-between">
      <!-- Logo with Tech Enhancement -->
      <div class="flex items-center space-x-3">
        <div class="relative">
          <!-- Subtle glow around logo -->
          <div
            class="absolute inset-0 bg-primary-400/20 blur-md rounded-full scale-150"
          >
          </div>
          <a href="/" class="relative flex items-center">
            <img src="/logo.svg" alt="AIStudio Logo" class="h-14 w-auto" />
          </a>
        </div>
        <!-- Status indicator -->
        <div
          class="hidden lg:flex items-center space-x-2 text-xs text-primary-400/80"
        >
          <div class="w-2 h-2 bg-primary-400 rounded-full animate-pulse"></div>
          <span class="font-mono">ONLINE</span>
        </div>
      </div>

      <!-- Desktop Navigation with Liquid Glass macOS Style -->
      <div class="hidden md:block">
        <div class="relative">
          <!-- Liquid glass background with multiple layers -->
          <div
            class="absolute inset-0 bg-white/[0.03] backdrop-blur-2xl rounded-2xl border border-white/[0.08]"
          >
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-r from-white/[0.02] via-transparent to-white/[0.02] rounded-2xl"
          >
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-b from-white/[0.05] via-transparent to-black/[0.05] rounded-2xl"
          >
          </div>

          <!-- Inner content with subtle shadow -->
          <div class="relative px-8 py-3 rounded-2xl">
            <!-- Inner glass reflection -->
            <div
              class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"
            >
            </div>
            <MainNav />
          </div>

          <!-- Subtle outer glow -->
          <div
            class="absolute -inset-px bg-gradient-to-r from-primary-400/10 via-transparent to-cyan-400/10 rounded-2xl blur-sm -z-10"
          >
          </div>
        </div>
      </div>

      <!-- Right Section with Tech Elements -->
      <div class="flex items-center space-x-4">
        <!-- Status Indicators -->
        <div
          class="hidden lg:flex items-center space-x-4 text-xs text-white/60"
        >
          <div class="flex items-center space-x-1">
            <div class="w-1 h-1 bg-primary-400 rounded-full"></div>
            <span class="font-mono">AI</span>
          </div>
          <div class="flex items-center space-x-1">
            <div class="w-1 h-1 bg-cyan-400 rounded-full"></div>
            <span class="font-mono">READY</span>
          </div>
        </div>

        <!-- CTA Button -->
        <div class="hidden sm:block">
          <div class="relative group">
            <!-- Button glow effect -->
            <div
              class="absolute -inset-0.5 bg-gradient-to-r from-primary-400 to-cyan-400 rounded-lg blur opacity-20 group-hover:opacity-40 transition duration-300"
            >
            </div>
            <Button
              href="/contact"
              variant="primary"
              size="sm"
              class="relative"
            >
              Start gesprek
            </Button>
          </div>
        </div>

        <!-- Mobile menu button with enhanced styling -->
        <button
          type="button"
          class="mobile-menu-button md:hidden relative p-2 text-white/70 hover:text-white focus:outline-none focus:ring-2 focus:ring-primary-400 rounded-lg border border-white/10 bg-dark-800/50 backdrop-blur-md"
          aria-expanded="false"
          aria-controls="mobile-menu"
          aria-label="Toggle navigation menu"
        >
          <span class="sr-only">Open main menu</span>
          <!-- Menu icon (hamburger) -->
          <svg
            class="menu-icon h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
          </svg>
          <!-- Close icon (X) -->
          <svg
            class="close-icon hidden h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>

<!-- Mobile menu - Full screen overlay (outside header) -->
<div
  class="mobile-menu fixed inset-0 z-[60] hidden md:hidden bg-dark-900"
  id="mobile-menu"
>
  <!-- Animated grid background (matching header style) -->
  <div class="absolute inset-0 opacity-20">
    <div
      class="absolute inset-0"
      style="background-image: radial-gradient(circle at 1px 1px, rgba(45, 212, 191, 0.15) 1px, transparent 0); background-size: 40px 40px;"
    >
    </div>
  </div>

  <!-- Menu content -->
  <div class="relative h-full flex flex-col">
    <!-- Header with close button -->
    <div
      class="flex items-center justify-between p-6 border-b border-primary-400/20 backdrop-blur-sm"
    >
      <div class="flex items-center space-x-3">
        <div class="relative">
          <div
            class="absolute inset-0 bg-primary-400/20 blur-md rounded-full scale-150"
          >
          </div>
          <img
            src="/logo.svg"
            alt="AIStudio Logo"
            class="h-12 w-auto relative"
          />
        </div>
        <div class="flex flex-col">
          <span class="text-white font-semibold text-lg">AI-STUDIO44</span>
          <span class="text-primary-400/80 text-xs font-mono"
            >PROFESSIONAL AI SOLUTIONS</span
          >
        </div>
      </div>
      <button
        type="button"
        class="mobile-menu-close p-3 text-white hover:text-primary-400 focus:outline-none focus:ring-2 focus:ring-primary-400 rounded-lg border border-white/10 bg-dark-800/80 backdrop-blur-md transition-all hover:bg-dark-700/80 hover:border-primary-400/50"
        aria-label="Close menu"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Navigation links -->
    <nav class="flex-1 flex flex-col justify-center px-6 py-8">
      <div class="space-y-3 max-w-md mx-auto w-full">
        <a
          href="/"
          class="group block rounded-xl px-6 py-4 text-xl font-medium text-white/90 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-primary-400/30"
          data-current-class="bg-primary-400/10 text-primary-400 border-primary-400/30"
        >
          <span class="flex items-center justify-between">
            Home
            <svg
              class="w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </a>
        <a
          href="/diensten"
          class="group block rounded-xl px-6 py-4 text-xl font-medium text-white/90 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-primary-400/30"
          data-current-class="bg-primary-400/10 text-primary-400 border-primary-400/30"
        >
          <span class="flex items-center justify-between">
            Onze diensten
            <svg
              class="w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </a>
        <a
          href="/nieuws"
          class="group block rounded-xl px-6 py-4 text-xl font-medium text-white/90 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-primary-400/30"
          data-current-class="bg-primary-400/10 text-primary-400 border-primary-400/30"
        >
          <span class="flex items-center justify-between">
            Nieuws
            <svg
              class="w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </a>
        <a
          href="/contact"
          class="group block rounded-xl px-6 py-4 text-xl font-medium text-white/90 hover:text-white hover:bg-white/5 transition-all border border-transparent hover:border-primary-400/30"
          data-current-class="bg-primary-400/10 text-primary-400 border-primary-400/30"
        >
          <span class="flex items-center justify-between">
            Contact
            <svg
              class="w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </a>
      </div>

      <!-- Status indicators -->
      <div
        class="flex items-center justify-center space-x-6 mt-12 text-sm text-white/60"
      >
        <div class="flex items-center space-x-2">
          <div class="w-2 h-2 bg-primary-400 rounded-full animate-pulse"></div>
          <span class="font-mono">AI READY</span>
        </div>
        <div class="flex items-center space-x-2">
          <div class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></div>
          <span class="font-mono">ONLINE</span>
        </div>
      </div>
    </nav>

    <!-- Bottom CTA -->
    <div
      class="p-6 border-t border-primary-400/20 bg-dark-900/50 backdrop-blur-sm"
    >
      <div class="max-w-md mx-auto">
        <Button href="/contact" variant="primary" class="w-full">
          Start gesprek
        </Button>
      </div>
    </div>
  </div>
</div>

<script is:inline src="/scripts/mobile-menu.js"></script>
